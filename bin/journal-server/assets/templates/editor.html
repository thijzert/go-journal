<!DOCTYPE html>
<html>
	<head>
		<title>Journal</title>
		<link rel="stylesheet" href="assets/css/app.css" />
		<meta name="viewport" content="width=320" />
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
		<!-- <meta name="viewport" content="width=320, initial-scale=1.0, user-scalable=no" /> -->
	</head>
	<body>
		{{if .Failure}}
			<div class="notify error"><a class="close"><i class="fa fa-close"></i></a>Error adding journal entry.</div>
		{{end}}
		{{if .Success}}
			<div class="notify"><a class="close"><i class="fa fa-close"></i></a>Journal entry added.</div>
		{{end}}
		<main class="journal-entry">
			<form method="post" action="{{.Callback}}" accept-charset="UTF-8" class="-js-autosave-draft">
				<p>
					<input type="text" id="ipt-ts" name="ts" placeholder="Timestamp" value="" />
				</p>
				<p>
					<div class="auto-grow-textarea">
						<textarea autofocus  id="ipt-body" name="body" spellcheck="false" autocomplete="off" placeholder="Body"></textarea>
					</div>
				</p>
				<p>
					<input type="hidden" id="ipt-draft-id" name="draft_id" />
					<input type="submit" value="Save" />
				</p>
				{{if .Projects}}
				<p>
					<select type="text" id="ipt-project" name="project" placeholder="Project">
						<option value="">Tag project...</option>
						{{range .Projects}}
							<option value="{{.}}">{{. | ProjectName}}</option>
						{{end}}
					</select>
				</p>
				{{end}}
				{{if .CanAttachFiles}}
					<ul id="list-of-attached-files"></ul>
					<p>
						<p>
							<label>Attach a file: <input type="file" multiple id="ipt-file-upload" placeholder="Attach files..." /></label>
						</p>
					</p>
				{{end}}
			</form>
			<section class="indicator-tray">
				<aside class="save-status"></aside>
			</section>
		</main>
		<script type="module" src="assets/js/app.js"></script>
	</body>
</html>

