<!DOCTYPE html>
<html>
	<head>
		<title>BWV Bucket List</title>
		<link rel="stylesheet" href="assets/css/app.css" />
		<meta name="viewport" content="width=320" />
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
		<!-- <meta name="viewport" content="width=320, initial-scale=1.0, user-scalable=no" /> -->
	</head>
	<body>
		{{range .BWVs}}
			<div class="BWVlist">
				{{range .}}
					<div class="BWV {{if .Done}}done{{else}}open{{end}}" title="{{.BWV.Title}}">{{.BWV.BWV}}</div>
				{{end}}
				<div style="clear: both"></div>
			</div>
		{{end}}
		<div id="Verzeichnis" class="Verzeichnis" style="display: none;">Bringet dem Herrn Ehre seines Namens</div>
		<script>
			(function()
			{
				const verzeichnis = document.getElementById("Verzeichnis");
				document.body.addEventListener("click", function(e)
				{
					let bwv = e.target;
					while ( bwv != null )
					{
						if ( bwv.classList && bwv.classList.contains("BWV") )
						{
							break;
						}
						bwv = bwv.parentNode;
					};
					if ( bwv === null )
					{
						return;
					}

					verzeichnis.innerText = bwv.title;
					bwv.parentNode.insertBefore( verzeichnis, bwv )
					verzeichnis.style.display = "block";
				});
				verzeichnis.addEventListener("click", function()
				{
					verzeichnis.style.display = "none";
				});
			})();
		</script>
	</body>
</html>

